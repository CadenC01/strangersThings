{"version":3,"sources":["Home.js","Posts.js","Login.js","Register.js","Profile.js","App.js","index.js"],"names":["Home","user","id","username","Posts","props","posts","token","useState","message","setMessage","sendMessage","e","a","preventDefault","fetch","API","method","headers","Authorization","body","JSON","stringify","content","sendM","json","data","console","log","className","map","post","title","description","price","onSubmit","_id","required","minLength","placeholder","value","onChange","target","type","Login","setToken","setUsername","password","setPassword","history","useHistory","handleLogin","resp","info","localStorage","setItem","push","Register","confirm","setConfirm","error","setError","handleRegister","to","Profile","fetchposts","msgs","messages","setTitle","setDesc","setPrice","handleNewP","useEffect","isAuthor","onClick","handleDelete","msg","fromUser","App","setPosts","setUser","getItem","responce","fetchUser","lsToken","success","removeItem","exact","path","app","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.d9998934.chunk.js","sourcesContent":["const Home = ({ user }) => {\r\n  return (\r\n    <div id=\"home\">\r\n      <h1>Take a look at stranger's things!</h1>\r\n      {user ? <h1>Hi {user.username}</h1> : <h1>Please Login/Register</h1>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { useState } from \"react\";\r\nimport { API } from \"./App\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Posts = (props) => {\r\n  const posts = props.posts;\r\n  const token = props.token;\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const sendMessage = async (e, id) => {\r\n    e.preventDefault();\r\n    const sendM = await fetch(`${API}/posts/${id}/messages`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        message: {\r\n          content: message,\r\n        },\r\n      }),\r\n    });\r\n    const data = await sendM.json();\r\n    console.log(data);\r\n  };\r\n\r\n  return (\r\n    <div className=\"posts\">\r\n      <div id=\"columnp\">\r\n        {posts.map((post) => {\r\n          return (\r\n            <div key={post._id} id=\"postss\">\r\n              <h1 className=\"post-title\">{post.title}</h1>\r\n              <p className=\"post-desc\">{post.description}</p>\r\n              <p className=\"post-desc\">{post.price}</p>\r\n              {token ? (\r\n                <form onSubmit={(e) => sendMessage(e, post._id)}>\r\n                  <input\r\n                    required\r\n                    minLength={4}\r\n                    placeholder=\"Enter Message\"\r\n                    value={message}\r\n                    onChange={(e) => setMessage(e.target.value)}\r\n                  ></input>\r\n                  <button type=\"submit\">Send</button>\r\n                </form>\r\n              ) : null}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import { useState } from \"react/cjs/react.development\";\r\nimport { API } from \"./App\";\r\nimport {\r\n  useHistory,\r\n  useParams,\r\n} from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nconst Login = (props) => {\r\n  const setToken = props.setToken;\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    const resp = await fetch(`${API}/users/login`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user: {\r\n          username,\r\n          password,\r\n        },\r\n      }),\r\n    });\r\n    const info = await resp.json();\r\n    setToken(info.data.token);\r\n    localStorage.setItem(\"token\", info.data.token);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <form className=\"form\" onSubmit={handleLogin}>\r\n        <input\r\n          required\r\n          minLength={4}\r\n          placeholder=\"Enter Username\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        ></input>\r\n        <input\r\n          required\r\n          minLength={4}\r\n          placeholder=\"Enter Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        ></input>\r\n        <button type=\"submit\">Login</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import {\r\n  useHistory,\r\n  useParams,\r\n} from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport Login from \"./Login\";\r\nimport { useState } from \"react/cjs/react.development\";\r\nimport { API } from \"./App\";\r\nimport { Link, Route } from \"react-router-dom\";\r\n\r\nconst Register = (props) => {\r\n  const setToken = props.setToken;\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirm, setConfirm] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    if (password !== confirm) {\r\n      setError(\"Passwords do not match\");\r\n      return;\r\n    }\r\n    const resp = await fetch(`${API}/users/register`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        user: {\r\n          username,\r\n          password,\r\n        },\r\n      }),\r\n    });\r\n    const info = await resp.json();\r\n    console.log(info);\r\n    if (info.error) {\r\n      setError(info.error.message);\r\n    }\r\n    //save token\r\n    setToken(info.data.token);\r\n    localStorage.setItem(\"token\", info.data.token);\r\n\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"register\">\r\n      <p>\r\n        If you already have an account <Link to=\"/Login\">login</Link>\r\n      </p>\r\n      <p className=\"err-msg\">{error}</p>\r\n      <form className=\"form\" onSubmit={handleRegister}>\r\n        <input\r\n          required\r\n          minLength={4}\r\n          placeholder=\"Enter Username\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        ></input>\r\n        <input\r\n          required\r\n          minLength={4}\r\n          placeholder=\"Enter Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        ></input>\r\n        <input\r\n          required\r\n          placeholder=\"Confirm Password\"\r\n          value={confirm}\r\n          onChange={(e) => setConfirm(e.target.value)}\r\n        ></input>\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n      <p className=\"err-msg\">{error}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import { useEffect, useState } from \"react\";\r\nimport { API } from \"./App\";\r\n\r\nconst Profile = (props) => {\r\n  const posts = props.posts;\r\n  const token = props.token;\r\n  const user = props.user;\r\n  const fetchposts = props.fetchposts;\r\n  const msgs = user.messages;\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDesc] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n\r\n  const handleDelete = (e) => {\r\n    console.log(\"DELETEDs\");\r\n    fetch(`${API}/posts/${e}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleNewP = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"clcs\");\r\n    await fetch(`${API}/posts`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      body: JSON.stringify({\r\n        post: {\r\n          title,\r\n          description,\r\n          price,\r\n        },\r\n      }),\r\n    });\r\n    await fetchposts();\r\n  };\r\n  console.log(msgs);\r\n\r\n  useEffect(() => {}, []);\r\n  return (\r\n    <div id=\"Profile\">\r\n      <form className=\"form\" onSubmit={handleNewP}>\r\n        <input\r\n          required\r\n          placeholder=\"Enter Title\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n        ></input>\r\n        <input\r\n          required\r\n          placeholder=\"Enter Desctiption\"\r\n          value={description}\r\n          onChange={(e) => setDesc(e.target.value)}\r\n        ></input>\r\n        <input\r\n          required\r\n          placeholder=\"Enter Price\"\r\n          value={price}\r\n          onChange={(e) => setPrice(e.target.value)}\r\n        ></input>\r\n        <button type=\"submit\">Submit New Post</button>\r\n      </form>\r\n      <div>\r\n        {posts.map((e) => {\r\n          if (e.isAuthor) {\r\n            return (\r\n              <div key={e._id} id=\"postss\">\r\n                <h1 className=\"post-title\">{e.title}</h1>\r\n                <p className=\"post-desc\">{e.description}</p>\r\n                <p className=\"post-desc\">{e.price}</p>\r\n                <button type=\"button\" onClick={() => handleDelete(e._id)}>\r\n                  Delete Post\r\n                </button>\r\n              </div>\r\n            );\r\n          }\r\n        })}\r\n      </div>\r\n      <div className=\"msgs\">\r\n        <h1>Messages:</h1>\r\n        {msgs.map((msg) => {\r\n          console.log(msg.fromUser.username);\r\n          return (\r\n            <div key={msg._id}>\r\n              <p>{msg.content}</p>\r\n              <p>From: {msg.fromUser.username}</p>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { Link, Route } from \"react-router-dom\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport Home from \"./Home\";\r\nimport Posts from \"./Posts\";\r\nimport Register from \"./Register\";\r\n\r\nimport Login from \"./Login\";\r\nimport Profile from \"./Profile\";\r\n\r\nexport const API =\r\n  \"https://strangers-things.herokuapp.com/api/2110-FTB-ET-WEB-PT/\";\r\n\r\nconst App = (props) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [token, setToken] = useState(\"\");\r\n  const [user, setUser] = useState({});\r\n  const [msgs, setMsgs] = useState([]);\r\n\r\n  const fetchposts = async () => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      const responce = await fetch(API + `posts`, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n      const info = await responce.json();\r\n      setPosts(info.data.posts);\r\n    } else {\r\n      const responce = await fetch(API + `posts`);\r\n      const info = await responce.json();\r\n      setPosts(info.data.posts);\r\n    }\r\n  };\r\n\r\n  const fetchMsg = async () => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      const responce = await fetch(API + `posts`, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n      const info = await responce.json();\r\n      setMsgs(info.data.posts);\r\n    } else {\r\n      const responce = await fetch(API + `posts`);\r\n      const info = await responce.json();\r\n      setMsgs(info.data.posts);\r\n    }\r\n  };\r\n\r\n  const fetchUser = async () => {\r\n    const lsToken = localStorage.getItem(\"token\");\r\n    if (lsToken) {\r\n      setToken(lsToken);\r\n    }\r\n    const resp = await fetch(`${API}/users/me`, {\r\n      headers: {\r\n        Authorization: `Bearer ${lsToken}`,\r\n      },\r\n    });\r\n    const info = await resp.json();\r\n    if (info.success) {\r\n    }\r\n    setUser(info.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUser();\r\n    fetchposts();\r\n  }, [token]);\r\n\r\n  return (\r\n    <div id=\"container\">\r\n      <div id=\"navbar\">\r\n        <h1>Stranger's Things</h1>\r\n        <Link className=\"nav-link\" to=\"/\">\r\n          Home\r\n        </Link>\r\n        <Link className=\"nav-link\" to=\"/Posts\">\r\n          Posts\r\n        </Link>\r\n        {token ? null : (\r\n          <Link className=\"nav-link\" to=\"/Register\">\r\n            Login/Register\r\n          </Link>\r\n        )}\r\n        {token ? (\r\n          <Link className=\"nav-link\" to=\"/Profile\">\r\n            Profile\r\n          </Link>\r\n        ) : null}\r\n        {token ? (\r\n          <Link\r\n            className=\"nav-link\"\r\n            to=\"/\"\r\n            onClick={() => {\r\n              setToken(\"\");\r\n              setUser({});\r\n              localStorage.removeItem(\"token\");\r\n            }}\r\n          >\r\n            Log out\r\n          </Link>\r\n        ) : null}\r\n      </div>\r\n\r\n      <div id=\"main-section\">\r\n        <Route exact path=\"/\">\r\n          <Home user={user} />\r\n        </Route>\r\n        <Route exact path=\"/Posts\">\r\n          <Posts posts={posts} token={token} />\r\n        </Route>\r\n        <Route exact path=\"/Register\">\r\n          <Register setToken={setToken} />\r\n        </Route>\r\n        <Route exact path=\"/Login\">\r\n          <Login setToken={setToken} />\r\n        </Route>\r\n        <Route exact path=\"/Profile\">\r\n          <Profile\r\n            token={token}\r\n            posts={posts}\r\n            fetchposts={fetchposts}\r\n            user={user}\r\n          />\r\n        </Route>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst app = document.getElementById(\"app\");\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  app\r\n);\r\n"],"sourceRoot":""}